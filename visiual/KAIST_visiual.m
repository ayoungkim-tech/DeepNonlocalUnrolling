t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3.08373333333324e-05,0.000808629333333337,0.00231250000000000,0.00676812333333329,0.0110854920000000,0.0123992618666667,0.0166835344000001,0.0211791360000000,0.0200000000000000,0.0188145920000000,0.0171802530000000;0.00133000000000000,0.00176000000000000,0.00219838700000000,0.00263067733333333,0.00324473600000000,0.00424691666666667,0.00530156800000000,0.00625349342857142,0.00804886857142856,0.0113580952380952,0.0124558190000000,0.0129867990000000,0.0142776960000000,0.0153179610000000,0.0159507916666667,0.0165760625000000,0.0181894760000000,0.0196792568888889,0.0136953208888889,0.0114479166666667,0.0100280153333333,0.00746627600000002,0.00280633600000001,0.00100000000000000,0.00100000000000000,0.00100000000000000,0.00100000000000000,0.00100000000000000;0.0291752640000000,0.0269502720000000,0.0255224880000000,0.0247204083809524,0.0234726400000000,0.0211318750000000,0.0178115968000000,0.0126948450571429,0.00834112000000001,0.00500800000000000,0.00195278080000001,7.16800000000704e-07,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
%s1 = result(1:28,:,:);
%s = permute(s1,[2,3,1]);
%s = reshape(output,256,256,28);
%s = label;
%s = res;
%s= vgaptv;
s=vdesci;
rgb_img =zeros(256,256,3);
ST=sum(t,2);
for ch = 1:28
	rgb_img(:,:,1) = rgb_img(:,:,1)+t(1,ch)*s(:,:,ch);
	rgb_img(:,:,2)= rgb_img(:,:,2)+t(2,ch)*s(:,:,ch);
	rgb_img(:,:,3)= rgb_img(:,:,3)+t(3,ch)*s(:,:,ch);
end
for ch=1:3
    ss=ST(ch);
    rgb_img(:,:,ch)=rgb_img(:,:,ch)./ss;
end
%imwrite(rgb_img,'.\scene9\rgb_ours.png');
%imwrite(rgb_img,'.\scene9\rgb_label.png');
%imwrite(rgb_img,'.\scene10\rgb_dgsm.png');
imwrite(rgb_img,'.\scene10\rgb_desci.png');